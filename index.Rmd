---
title: "Example DMS Plans"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
    theme: spacelab
    social: menu
    css: custom.css
    source_code: https://github.com/example-DMS-plans/examples/blob/main/index.Rmd
---

```{r setup, include = FALSE}
library(tidyverse)
library(DT)

source("data_functions.R")

if (!file.exists("plans_data.RDS"))
{
    # grab data from google sheets
    download_raw_data()
    
    # read in raw data, process and save out
    plans_data <- process_raw_data()
    saveRDS(plans_data, "plans_data.RDS")
}

plans_data <- readRDS("plans_data.RDS")
```

Column {data-width=800}
-----------------------------------------------------------------------

```{r}
datatable(plans_data, 
          rownames = FALSE, 
          options = list(pageLength = NROW(plans_data), 
                         scrollY = "800px"))
```
